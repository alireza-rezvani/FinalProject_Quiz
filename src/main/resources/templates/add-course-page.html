<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>تعریف دوره</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link th:href="@{/css/bootstrap.min.css}"  rel="stylesheet" type="text/css" >
</head>
<body  class="text-center row p-5 justify-content-center align-content-center bg-info" style="font-family: 'B Mitra'">

<div>
    <h1>تعریف دوره</h1>


    <form class="m-3" action="#" th:action="@{/admin/addCourse}" method="post">
        <p hidden="hidden"><input type="text" th:field="*{course.id}"/></p>
        <input class="text-center" type="text" th:field="*{course.title}" placeholder="عنوان دوره"/>
        <input class="text-center" type="date" th:field="*{course.startDate}" placeholder="تاریخ شروع"/>
        <input class="text-center" type="date" th:field="*{course.finishDate}" placeholder="تاریخ اتمام"/>
        <input class="btn btn-dark" type="submit" value="افزودن دوره" th:name="ok"/>
    </form>



    <div class="m-3 border border-light" th:hidden="${allCourses.size()==0}">
        <table class="table table-dark" th:hidden="${allCourses.size()==0}">
            <thead>
            <th colspan="4">عملیات</th>
            <th>تاریخ اتمام</th>
            <th>تاریخ شروع</th>
            <th>عنوان دوره</th>
            <th>شناسه یکتای دوره</th>
            </thead>
            <tbody>
            <tr th:each="courseItem:${allCourses}">
                <td><form th:action="@{/admin/deleteCourse/__${courseItem.id}__}"><input hidden class="btn btn-danger" th:id="${courseItem.id}" type="submit" value="تایید حذف" ></form></td>
                <td><button class="btn btn-light"  th:onclick="|delConfirm(${courseItem.id})|">حذف</button></td>
                <td><form th:action="@{/admin/editCourse/__${courseItem.id}__}"><input class="btn btn-light" type="submit" th:value="ویرایش" ></form></td>
                <td><form th:action="@{/admin/courseMembers/__${courseItem.id}__}"><input class="btn btn-light" type="submit" th:value="اعضا" ></form></td>
                <td th:text="${courseItem.finishDate.toString().substring(0,10)}"/>
                <td th:text="${courseItem.startDate.toString().substring(0,10)}"/>
                <td th:text="${courseItem.title}"/>
                <td th:text="${courseItem.id}"/>

            </tr>
            </tbody>
        </table>

    </div>



    <form th:action="@{/}"><input class="btn btn-dark" type="submit" value="بازگشت به صفحه اصلی"></form>
</div>



<script>

    function delConfirm(id) {
        document.getElementById(id).hidden = false;
    }
</script>
</body>
</html>